(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[232],{2964:()=>{},3488:(t,e,r)=>{"use strict";r.d(e,{Y:()=>o});var n=r(7140);function o(){let[t,e]=(0,n.useState)([]),[r,o]=(0,n.useState)(""),[a,c]=(0,n.useState)([]),[s,i]=(0,n.useState)(null);(0,n.useEffect)(()=>{(async()=>{try{let t=await fetch("https://raw.githubusercontent.com/AdamFehse/map-app/gh-pages/storymapdata_db_ready_v2.json");if(!t.ok)throw Error("HTTP error! status: ".concat(t.status));let r=await t.json();e(r);let n=[...new Set(r.map(t=>t.ProjectCategory).filter(Boolean))];c(n)}catch(t){t&&"object"==typeof t&&"message"in t?i(t.message):i("Unknown error")}})()},[]);let l=(0,n.useMemo)(()=>r?t.filter(t=>t.ProjectCategory===r):t,[t,r]),u=(0,n.useCallback)(t=>{o(t)},[]),d=(0,n.useCallback)(()=>t.filter(t=>t.Artworks&&t.Artworks.length>0),[t]),f=(0,n.useCallback)(()=>t.filter(t=>t.Poems&&t.Poems.length>0),[t]),h=(0,n.useCallback)(()=>{let e=new Set;return t.forEach(t=>{t.Activities&&t.Activities.forEach(t=>{e.add(t)})}),Array.from(e)},[t]);return{projects:t,filteredProjects:l,categories:a,error:s,filterProjects:u,getProjectsWithArtworks:d,getProjectsWithPoems:f,getUniqueActivities:h}}},9232:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>h});var n=r(9320),o=r(7140),a=r(8354),c=r(8095),s=r(8267);r(8560),r(4398),r(4063),r(2964);var i=r(3488),l=r(2873),u=r.n(l);r(1932);let d=t=>{let{map:e,projects:r}=t,n=(0,o.useRef)(null);return(0,o.useEffect)(()=>{if(!e||!r||0===r.length)return;n.current&&(e.removeLayer(n.current),n.current=null);let t=u().markerClusterGroup({iconCreateFunction:function(t){let e=t.getChildCount(),r="#1976d2",n=40;return e>=100?(r="#d32f2f",n=60):e>=10&&(r="#388e3c",n=50),u().divIcon({html:'\n            <svg width="'.concat(n,'" height="').concat(n,'" viewBox="0 0 ').concat(n," ").concat(n,'">\n              <circle cx="').concat(n/2,'" cy="').concat(n/2,'" r="').concat(n/2-3,'" fill="').concat(r,'" stroke="#fff" stroke-width="3"/>\n              <text x="50%" y="55%" text-anchor="middle" font-size="').concat(n/2.5,'" fill="#fff" font-weight="bold" dominant-baseline="middle">').concat(e,"</text>\n            </svg>\n          "),className:"custom-cluster-icon",iconSize:[n,n]})}});return r.forEach(e=>{if(e.Latitude&&e.Longitude){let r=u().marker([e.Latitude,e.Longitude],{icon:function(){let{className:t="custom-marker",iconSize:e=[24,24],iconAnchor:r=[12,24],html:n=""}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return u().divIcon({className:t,iconSize:e,iconAnchor:r,html:n})}()});r.bindPopup("\n          <strong>".concat(e.ProjectCategory,"</strong>\n          <br />\n          A pretty CSS3 popup. <br /> Easily customizable.\n        ")),t.addLayer(r)}}),t.addTo(e),n.current=t,()=>{n.current&&(e.removeLayer(n.current),n.current=null)}},[e,r]),null};function f(){let t=(0,a.ko)(),{projects:e}=(0,i.Y)();return(0,n.jsx)(d,{map:t,projects:e})}function h(t){let{children:e,showMarkers:r=!0}=t,{projects:o,error:a}=(0,i.Y)();return a?(0,n.jsxs)("div",{children:["Error: ",a]}):o.length?(0,n.jsxs)(c.W,{center:[31.313354,-110.945987],zoom:7,style:{height:"100vh",width:"100%",position:"relative"},children:[(0,n.jsx)(s.e,{url:"https://server.arcgisonline.com/ArcGIS/rest/services/NatGeo_World_Map/MapServer/tile/{z}/{y}/{x}",attribution:'\xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',minZoom:0,maxZoom:16}),r&&(0,n.jsx)(f,{}),e]}):(0,n.jsx)("div",{children:"Loading..."})}}}]);